# APEP Internationalization (i18n)

APEP supports multiple languages through a simple localization system.

## Quick Start

```c
#include <apep/apep_i18n.h>

int main(void) {
    // Auto-detect system locale
    apep_i18n_init(NULL, NULL);
    
    // Use APEP - messages will be localized
    apep_error("E001", "file not found", "config.txt");
    
    apep_i18n_cleanup();
    return 0;
}
```

## API

### apep_i18n_init
```c
int apep_i18n_init(const char *locale, const char *locales_dir);
```
Initialize. Pass NULL to auto-detect locale. Returns 0 on success.

### apep_i18n_set_locale
```c
int apep_i18n_set_locale(const char *locale);
```
Switch to different language at runtime.

### apep_i18n_get
```c
const char *apep_i18n_get(const char *key);
```
Get translated string. Also available as _() macro.

### apep_i18n_cleanup
```c
void apep_i18n_cleanup(void);
```
Free resources. Call before exit.

## Locale Files

Located in \locales/\ directory:
- \n.loc\ - English (default)
- \cs.loc\ - Czech

Format:
\\\
"key":"value"
"Error":"Chyba"
\\\

## Adding Languages

1. Copy \locales/en.loc\ to \locales/<code>.loc\
2. Translate values (keep keys unchanged)
3. Save as UTF-8
4. Test with \pep_i18n_init("<code>", NULL)\

See [../locales/README.md](../locales/README.md) for details.

## System Locale Detection

- **Windows**: Uses GetUserDefaultLCID()
- **Linux/macOS**: Parses LANG, LC_ALL environment variables

## Performance

- O(1) hash table lookup
- ~10-20KB memory per locale
- One-time file I/O on init

## Thread Safety

‚ö†Ô∏è Not thread-safe. Initialize before creating threads.
